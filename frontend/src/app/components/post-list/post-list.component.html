<div class="container mx-auto p-4">
  <h1 class="text-3xl font-bold mb-6">Blog Posts</h1>
  <div *ngIf="posts$ | async as posts; else loadingOrError">
    <div *ngIf="posts.length > 0; else noPosts" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <div *ngFor="let post of posts" class="bg-white shadow-md rounded-lg p-6 hover:shadow-lg transition-shadow">
        <h2 class="text-2xl font-semibold mb-2">
          <a [routerLink]="['/blog', post.slug]" class="hover:text-blue-600">{{ post.title || 'Untitled Post' }}</a>
        </h2>
        <p *ngIf="post.date" class="text-gray-600 text-sm mb-2">Published on: {{ post.date | date:'longDate' }}</p>
        <p *ngIf="post.author" class="text-gray-600 text-sm mb-4">By: {{ post.author }}</p>
        <!-- Add more metadata if available and desired, e.g., excerpt -->
        <a [routerLink]="['/blog', post.slug]" class="text-blue-500 hover:underline">Read more &rarr;</a>
      </div>
    </div>
    <ng-template #noPosts>
      <p class="text-center text-gray-500">No posts available at the moment.</p>
    </ng-template>
  </div>
  <ng-template #loadingOrError>
    <!-- You can differentiate between loading and error states if needed -->
    <p class="text-center text-gray-500">Loading posts...</p>
    <!-- Or handle errors from the posts$ observable if it emits errors -->
  </ng-template>
</div>
